<!DOCTYPE html>
<html>
<title>CUBE SMASHER</title>

<head>
    <link rel="icon" href="free.jfif">
</head>

<body>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Arvo:wght@700&display=swap');

        body {
            margin: 0;
            background-color: #000;
            background-image: radial-gradient(ellipse at top, #335476 0.0%, #31506e 11.1%, #304b67 22.2%, #2f4760 33.3%, #2d4359 44.4%, #2c3f51 55.6%, #2a3a4a 66.7%, #293643 77.8%, #28323d 88.9%, #262e36 100.0%);
            height: 100vh;
            overflow: hidden;
            font-weight: bold;
            letter-spacing: 0.06em;
            letter-spacing: 3px;
            font-family: 'Arvo', sans-serif;
            color: rgba(255, 255, 255, 0.75);
        }

        #c {
            display: block;
            touch-action: none;
            transform: translateZ(0);
        }


        /*/////////////////////
//        HUD        //
/////////////////////*/


        .hud__score,
        .pause-btn {
            position: fixed;
            font-size: calc(14px + 2vw + 1vh);
        }

        .hud__score {
            top: 0.65em;
            left: 0.65em;
            pointer-events: none;
            user-select: none;
        }

        .cube-count-lbl {
            font-size: 0.46em;
        }

        .pause-btn {
            position: fixed;
            top: 0;
            right: 0;
            padding: 0.8em 0.65em;
        }

        .pause-btn>div {
            position: relative;
            width: 0.8em;
            height: 0.8em;
            opacity: 0.75;
        }

        .pause-btn>div::before,
        .pause-btn>div::after {
            content: '';
            display: block;
            width: 34%;
            height: 100%;
            position: absolute;
            background-color: #fff;
        }

        .pause-btn>div::after {
            right: 0;
        }

        .slowmo {
            position: fixed;
            bottom: 0;
            width: 100%;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.4s;
            will-change: opacity;
        }

        .slowmo::before {
            content: 'SLOW-MOTION HAS STARTED !!';
            display: block;
            font-size: calc(8px + 1vw + 0.5vh);
            margin-left: 0.5em;
            margin-bottom: 8px;
        }

        .slowmo::after {
            content: '';
            display: block;
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 1.5vh;
            background-color: rgba(0, 0, 0, 0.25);
            z-index: -1;
        }

        .slowmo__bar {
            height: 1.5vh;
            background-color: rgba(255, 255, 255, 0.75);
            transform-origin: 0 0;
        }



        /*/////////////////////
//       MENUS       //
/////////////////////*/

        .menus::before {
            content: '';
            pointer-events: none;
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background-color: #000;
            opacity: 0;
            transition: opacity 0.2s;
            transition-timing-function: ease-in;
        }

        .menus.has-active::before {
            opacity: 0.08;
            transition-duration: 0.4s;
            transition-timing-function: ease-out;
        }

        .menus.interactive-mode::before {
            opacity: 0.02;
        }



        /* Menu containers */
        .menu {
            pointer-events: none;
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            user-select: none;
            text-align: center;
            color: rgba(255, 255, 255, 0.9);
            opacity: 0;
            visibility: hidden;
            transform: translateY(30px);
            transition-property: opacity, visibility, transform;
            transition-duration: 0.2s;
            transition-timing-function: ease-in;
        }

        .menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            transition-duration: 0.4s;
            transition-timing-function: ease-out;
        }

        .menus.interactive-mode .menu.active {
            opacity: 0.6;
        }

        .menus:not(.interactive-mode) .menu.active>* {
            pointer-events: auto;
        }


        /* Common menu elements */

        h1 {
            font-size: 4rem;
            line-height: 0.95;
            text-align: center;
            font-weight: bold;
            margin: 0 0.65em 1em;
        }

        h2 {
            font-size: 1.2rem;
            line-height: 1;
            text-align: center;
            font-weight: bold;
            margin: -1em 0.65em 1em;
        }

        .final-score-lbl {
            font-size: 5rem;
            margin: -0.2em 0 0;
        }

        .high-score-lbl {
            font-size: 1.2rem;
            margin: 0 0 2.5em;
        }

        button {
            display: block;
            position: relative;
            background: transparent;
            border: none;
            font-weight: bold;
            font-size: 1.4rem;
            color: #fff;
            opacity: 0.75;
            transition: opacity 0.3s;
        }

        .song {
            height: 100%;
            width: 100%;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background-color: rgba(255, 255, 255, 0.15);
            transform: scale(0, 0);
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
        }

        /* No `:focus` styles because this is a mouse/touch game! */
        button:active {
            opacity: 1;
        }

        button:active::before {
            transform: scale(1, 1);
            opacity: 1;
        }

        .credits {
            position: fixed;
            width: 100%;
            left: 0;
            bottom: 20px;
        }

        a {
            color: white;
        }

        /* Only enable hover state on large screens */
        @media (min-width: 1025px) {
            button:hover {
                opacity: 1;
            }

            button:hover::before {
                transform: scale(1, 1);
                opacity: 1;
                border-radius: 80px;
            }
        }

        p {
            font-size: 30px;
        }
    </style>
    <div class="song" onmouseover="a()" onmouseout="b()">
        <audio id="xad1">
            <source src="xad.mp3" type="audio/mp3">
        </audio>

        <!-- Game canvas -->
        <canvas id="c"></canvas>

        <!-- Gameplay HUD -->
        <div class="hud">
            <div class="hud__score">
                <div class="score-lbl"></div>
                <div class="cube-count-lbl"></div>
            </div>
            <div class="pause-btn">
                <div></div>
            </div>
            <div class="slowmo">
                <div class="slowmo__bar"></div>
            </div>
        </div>

        <!-- Menu System -->
        <div class="menus">
            <div class="menu menu--main">
                <h1>Piyush Parjane</h1>
                <button type="button" class="play-normal-btn">
                    <p>PLAY GAME </p>
                </button>
                <button type="button" class="play-casual-btn">
                    <p id="x">EASY MODE</p>
                </button>
                <div class="credits">An 8kB game by Piyush Parjane </div>
            </div>
            <div class="menu menu--pause">
                <h1>Paused</h1>
                <button type="button" class="resume-btn">
                    <p>RESUME GAME</p>
                </button>
                <button type="button" class="menu-btn--pause">
                    <p>MAIN MENU</p>
                </button>
            </div>
            <div class="menu menu--score">
                <h1>Game Over</h1>
                <h2>Your Score:</h2>
                <div class="final-score-lbl"></div>
                <div class="high-score-lbl"></div>
                <button type="button" class="play-again-btn">
                    <p> PLAY AGAIN</p>
                </button>
                <button type="button" class="menu-btn--score">
                    <p>MAIN MENU</p>
                </button>
            </div>
        </div>
    </div>
    <script>const _0x456f86 = _0x574a; (function (_0x44b9b2, _0x124e6b) { const _0x578c34 = _0x574a, _0x186e7f = _0x44b9b2(); while (!![]) { try { const _0x5231df = -parseInt(_0x578c34(0x216)) / 0x1 + -parseInt(_0x578c34(0x27e)) / 0x2 + -parseInt(_0x578c34(0x1fd)) / 0x3 * (parseInt(_0x578c34(0x200)) / 0x4) + -parseInt(_0x578c34(0x289)) / 0x5 + parseInt(_0x578c34(0x260)) / 0x6 + -parseInt(_0x578c34(0x28a)) / 0x7 * (parseInt(_0x578c34(0x210)) / 0x8) + parseInt(_0x578c34(0x23e)) / 0x9 * (parseInt(_0x578c34(0x21d)) / 0xa); if (_0x5231df === _0x124e6b) break; else _0x186e7f['push'](_0x186e7f['shift']()); } catch (_0x5e4061) { _0x186e7f['push'](_0x186e7f['shift']()); } } }(_0x248d, 0x58f18)); var xad = document[_0x456f86(0x241)](_0x456f86(0x258)); function a() { const _0x5f1955 = _0x456f86; xad[_0x5f1955(0x21a)](); } function b() { xad['pause'](); } let gameSpeed = 0x1; const BLUE = { 'r': 0x67, 'g': 0xd7, 'b': 0xf0 }, GREEN = { 'r': 0xa6, 'g': 0xe0, 'b': 0x2c }, PINK = { 'r': 0xfa, 'g': 0x24, 'b': 0x73 }, ORANGE = { 'r': 0xfe, 'g': 0x95, 'b': 0x22 }, allColors = [BLUE, GREEN, PINK, ORANGE], getSpawnDelay = () => { const _0x40c02a = _0x456f86, _0x5eed82 = 0x578, _0x437086 = 0x226, _0x2a07cd = _0x5eed82 - state[_0x40c02a(0x26f)]['cubeCount'] * 3.1; return Math[_0x40c02a(0x1fc)](_0x2a07cd, _0x437086); }, doubleStrongEnableScore = 0x7d0, slowmoThreshold = 0xa, strongThreshold = 0x19, spinnerThreshold = 0x19; let pointerIsDown = ![], pointerScreen = { 'x': 0x0, 'y': 0x0 }, pointerScene = { 'x': 0x0, 'y': 0x0 }; const minPointerSpeed = 0x3c, hitDampening = 0.1, backboardZ = -0x190, shadowColor = _0x456f86(0x27d), airDrag = 0.022, gravity = 0.3, sparkColor = _0x456f86(0x1f0), sparkThickness = 2.2, airDragSpark = 0.1, touchTrailColor = _0x456f86(0x229), touchTrailThickness = 0x7, touchPointLife = 0x78, touchPoints = [], targetRadius = 0x28, targetHitRadius = 0x32, makeTargetGlueColor = _0xba700c => { const _0x4bfb38 = _0x456f86; return _0x4bfb38(0x255); }, fragRadius = targetRadius / 0x3, canvas = document['querySelector']('#c'), cameraDistance = 0x384, sceneScale = 0x1, cameraFadeStartZ = 0.45 * cameraDistance, cameraFadeEndZ = 0.65 * cameraDistance, cameraFadeRange = cameraFadeEndZ - cameraFadeStartZ, allVertices = [], allPolys = [], allShadowVertices = [], allShadowPolys = [], GAME_MODE_RANKED = Symbol(_0x456f86(0x292)), GAME_MODE_CASUAL = Symbol('GAME_MODE_CASUAL'), MENU_MAIN = Symbol(_0x456f86(0x1fb)), MENU_PAUSE = Symbol('MENU_PAUSE'), MENU_SCORE = Symbol(_0x456f86(0x246)), state = { 'game': { 'mode': GAME_MODE_RANKED, 'time': 0x0, 'score': 0x0, 'cubeCount': 0x0 }, 'menus': { 'active': MENU_MAIN } }, isInGame = () => !state['menus'][_0x456f86(0x1f4)], isMenuVisible = () => !!state[_0x456f86(0x240)][_0x456f86(0x1f4)], isCasualGame = () => state[_0x456f86(0x26f)][_0x456f86(0x212)] === GAME_MODE_CASUAL, isPaused = () => state['menus']['active'] === MENU_PAUSE, highScoreKey = _0x456f86(0x290), getHighScore = () => { const _0x1e90a5 = _0x456f86, _0x1c4f31 = localStorage[_0x1e90a5(0x265)](highScoreKey); return _0x1c4f31 ? parseInt(_0x1c4f31, 0xa) : 0x0; }; let _lastHighscore = getHighScore(); const setHighScore = _0x24eef3 => { const _0x3f4dbb = _0x456f86; _lastHighscore = getHighScore(), localStorage[_0x3f4dbb(0x219)](highScoreKey, String(_0x24eef3)); }, isNewHighScore = () => state['game'][_0x456f86(0x296)] > _lastHighscore, invariant = (_0x1eb901, _0x27a31c) => { if (!_0x1eb901) throw new Error(_0x27a31c); }, $ = _0x49f895 => document['querySelector'](_0x49f895), handleClick = (_0x2f09fa, _0x4d3f73) => _0x2f09fa[_0x456f86(0x291)]('click', _0x4d3f73), handlePointerDown = (_0x44be1d, _0x274880) => { const _0xcf533 = _0x456f86; _0x44be1d['addEventListener'](_0xcf533(0x23c), _0x274880), _0x44be1d[_0xcf533(0x291)](_0xcf533(0x1f3), _0x274880); }, formatNumber = _0x56dbc1 => _0x56dbc1['toLocaleString'](), PI = Math['PI'], TAU = Math['PI'] * 0x2, ETA = Math['PI'] * 0.5, clamp = (_0x4fe980, _0x5cbb51, _0x366500) => Math[_0x456f86(0x211)](Math[_0x456f86(0x1fc)](_0x4fe980, _0x5cbb51), _0x366500), lerp = (_0x110b88, _0x3ba834, _0x4f3ecf) => (_0x3ba834 - _0x110b88) * _0x4f3ecf + _0x110b88, random = (_0x44e20a, _0xcfa7d4) => Math[_0x456f86(0x268)]() * (_0xcfa7d4 - _0x44e20a) + _0x44e20a, randomInt = (_0x187841, _0x265b26) => (Math[_0x456f86(0x268)]() * (_0x265b26 - _0x187841 + 0x1) | 0x0) + _0x187841, pickOne = _0x56fe03 => _0x56fe03[Math[_0x456f86(0x268)]() * _0x56fe03[_0x456f86(0x285)] | 0x0], colorToHex = _0xe9afca => { const _0x4d8f78 = _0x456f86; return '#' + (_0xe9afca['r'] | 0x0)[_0x4d8f78(0x282)](0x10)[_0x4d8f78(0x276)](0x2, '0') + (_0xe9afca['g'] | 0x0)[_0x4d8f78(0x282)](0x10)['padStart'](0x2, '0') + (_0xe9afca['b'] | 0x0)[_0x4d8f78(0x282)](0x10)['padStart'](0x2, '0'); }, shadeColor = (_0x1238c3, _0x4af4ae) => { const _0x12ca02 = _0x456f86; let _0x269d5f, _0x93a099; return _0x4af4ae < 0.5 ? (_0x269d5f = 0x0, _0x93a099 = 0x1 - _0x4af4ae * 0x2) : (_0x269d5f = 0xff, _0x93a099 = _0x4af4ae * 0x2 - 0x1), '#' + (lerp(_0x1238c3['r'], _0x269d5f, _0x93a099) | 0x0)[_0x12ca02(0x282)](0x10)['padStart'](0x2, '0') + (lerp(_0x1238c3['g'], _0x269d5f, _0x93a099) | 0x0)[_0x12ca02(0x282)](0x10)['padStart'](0x2, '0') + (lerp(_0x1238c3['b'], _0x269d5f, _0x93a099) | 0x0)['toString'](0x10)[_0x12ca02(0x276)](0x2, '0'); }, _allCooldowns = [], makeCooldown = (_0x3d5271, _0x1032e5 = 0x1) => { let _0x54bfe4 = 0x0, _0x3f7c78 = 0x0; const _0x197b1a = { 'rechargeTime': _0x3d5271, 'units': _0x1032e5 }, _0x409b19 = () => { const _0x543f68 = _0x574a, _0x2deeb9 = state[_0x543f68(0x26f)][_0x543f68(0x227)]; if (_0x2deeb9 < _0x3f7c78) _0x54bfe4 = 0x0; else { _0x54bfe4 -= _0x2deeb9 - _0x3f7c78; if (_0x54bfe4 < 0x0) _0x54bfe4 = 0x0; } _0x3f7c78 = _0x2deeb9; }, _0x1a18a9 = () => { return _0x409b19(), _0x54bfe4 <= _0x3d5271 * (_0x1032e5 - 0x1); }, _0x216b4f = { 'canUse': _0x1a18a9, 'useIfAble'() { const _0x3cd489 = _0x1a18a9(); if (_0x3cd489) _0x54bfe4 += _0x3d5271; return _0x3cd489; }, 'mutate'(_0x53b075) { const _0x2b776c = _0x574a; if (_0x53b075[_0x2b776c(0x21b)]) { _0x54bfe4 -= _0x3d5271 - _0x53b075['rechargeTime']; if (_0x54bfe4 < 0x0) _0x54bfe4 = 0x0; _0x3d5271 = _0x53b075[_0x2b776c(0x21b)]; } if (_0x53b075[_0x2b776c(0x22d)]) _0x1032e5 = _0x53b075[_0x2b776c(0x22d)]; }, 'reset'() { const _0x2cfb35 = _0x574a; _0x54bfe4 = 0x0, _0x3f7c78 = 0x0, this[_0x2cfb35(0x245)](_0x197b1a); } }; return _allCooldowns['push'](_0x216b4f), _0x216b4f; }, resetAllCooldowns = () => _allCooldowns['forEach'](_0x5c5050 => _0x5c5050['reset']()), makeSpawner = ({ chance: _0x164579, cooldownPerSpawn: _0x34b95e, maxSpawns: _0x48f836 }) => { const _0x4fb861 = makeCooldown(_0x34b95e, _0x48f836); return { 'shouldSpawn'() { const _0xea3c2b = _0x574a; return Math[_0xea3c2b(0x268)]() <= _0x164579 && _0x4fb861['useIfAble'](); }, 'mutate'(_0x49d859) { const _0x1ba965 = _0x574a; if (_0x49d859['chance']) _0x164579 = _0x49d859['chance']; _0x4fb861[_0x1ba965(0x245)]({ 'rechargeTime': _0x49d859[_0x1ba965(0x20b)], 'units': _0x49d859[_0x1ba965(0x251)] }); } }; }, normalize = _0x1aef07 => { const _0x10900b = _0x456f86, _0x150454 = Math[_0x10900b(0x26b)](_0x1aef07['x'], _0x1aef07['y'], _0x1aef07['z']); return { 'x': _0x1aef07['x'] / _0x150454, 'y': _0x1aef07['y'] / _0x150454, 'z': _0x1aef07['z'] / _0x150454 }; }, add = _0x2b3913 => _0x5d698a => _0x2b3913 + _0x5d698a, scaleVector = _0x5d72c9 => _0xcf6158 => { _0xcf6158['x'] *= _0x5d72c9, _0xcf6158['y'] *= _0x5d72c9, _0xcf6158['z'] *= _0x5d72c9; }; function cloneVertices(_0x3cae2e) { const _0x3a6ad3 = _0x456f86; return _0x3cae2e[_0x3a6ad3(0x280)](_0x3b5b19 => ({ 'x': _0x3b5b19['x'], 'y': _0x3b5b19['y'], 'z': _0x3b5b19['z'] })); } function copyVerticesTo(_0x515349, _0x51fa65) { const _0x434acf = _0x515349['length']; for (let _0x13bbfb = 0x0; _0x13bbfb < _0x434acf; _0x13bbfb++) { const _0x34dcdd = _0x515349[_0x13bbfb], _0x3586ee = _0x51fa65[_0x13bbfb]; _0x3586ee['x'] = _0x34dcdd['x'], _0x3586ee['y'] = _0x34dcdd['y'], _0x3586ee['z'] = _0x34dcdd['z']; } } function computeTriMiddle(_0x271ef6) { const _0x3e2fcb = _0x456f86, _0x1d9218 = _0x271ef6[_0x3e2fcb(0x295)]; _0x271ef6[_0x3e2fcb(0x256)]['x'] = (_0x1d9218[0x0]['x'] + _0x1d9218[0x1]['x'] + _0x1d9218[0x2]['x']) / 0x3, _0x271ef6[_0x3e2fcb(0x256)]['y'] = (_0x1d9218[0x0]['y'] + _0x1d9218[0x1]['y'] + _0x1d9218[0x2]['y']) / 0x3, _0x271ef6[_0x3e2fcb(0x256)]['z'] = (_0x1d9218[0x0]['z'] + _0x1d9218[0x1]['z'] + _0x1d9218[0x2]['z']) / 0x3; } function computeQuadMiddle(_0x5abd82) { const _0x59604c = _0x456f86, _0x33eaef = _0x5abd82[_0x59604c(0x295)]; _0x5abd82[_0x59604c(0x256)]['x'] = (_0x33eaef[0x0]['x'] + _0x33eaef[0x1]['x'] + _0x33eaef[0x2]['x'] + _0x33eaef[0x3]['x']) / 0x4, _0x5abd82[_0x59604c(0x256)]['y'] = (_0x33eaef[0x0]['y'] + _0x33eaef[0x1]['y'] + _0x33eaef[0x2]['y'] + _0x33eaef[0x3]['y']) / 0x4, _0x5abd82[_0x59604c(0x256)]['z'] = (_0x33eaef[0x0]['z'] + _0x33eaef[0x1]['z'] + _0x33eaef[0x2]['z'] + _0x33eaef[0x3]['z']) / 0x4; } function computePolyMiddle(_0x416906) { const _0x4fc525 = _0x456f86; _0x416906[_0x4fc525(0x295)]['length'] === 0x3 ? computeTriMiddle(_0x416906) : computeQuadMiddle(_0x416906); } function computePolyDepth(_0x1fe7b2) { const _0x184373 = _0x456f86; computePolyMiddle(_0x1fe7b2); const _0x434ed0 = _0x1fe7b2[_0x184373(0x256)]['x'], _0xbb97be = _0x1fe7b2[_0x184373(0x256)]['y'], _0x8d368e = _0x1fe7b2[_0x184373(0x256)]['z'] - cameraDistance; _0x1fe7b2['depth'] = Math[_0x184373(0x26b)](_0x434ed0, _0xbb97be, _0x8d368e); } function computePolyNormal(_0x294d22, _0xbc2e51) { const _0x1c2606 = _0x456f86, _0x22ce6a = _0x294d22[_0x1c2606(0x295)][0x0], _0x3b0e45 = _0x294d22[_0x1c2606(0x295)][0x1], _0x4be02d = _0x294d22[_0x1c2606(0x295)][0x2], _0xdbdece = _0x22ce6a['x'] - _0x3b0e45['x'], _0x555981 = _0x22ce6a['y'] - _0x3b0e45['y'], _0x83af3d = _0x22ce6a['z'] - _0x3b0e45['z'], _0x241e6a = _0x22ce6a['x'] - _0x4be02d['x'], _0x9d5349 = _0x22ce6a['y'] - _0x4be02d['y'], _0x52318b = _0x22ce6a['z'] - _0x4be02d['z'], _0x47befb = _0x555981 * _0x52318b - _0x83af3d * _0x9d5349, _0x4f8724 = _0x83af3d * _0x241e6a - _0xdbdece * _0x52318b, _0x1bd33d = _0xdbdece * _0x9d5349 - _0x555981 * _0x241e6a, _0x43308b = Math[_0x1c2606(0x26b)](_0x47befb, _0x4f8724, _0x1bd33d), _0x2c0ad7 = _0x294d22[_0xbc2e51]; _0x2c0ad7['x'] = _0x47befb / _0x43308b, _0x2c0ad7['y'] = _0x4f8724 / _0x43308b, _0x2c0ad7['z'] = _0x1bd33d / _0x43308b; } function transformVertices(_0x5ce492, _0x155efe, _0x4c92b5, _0x6190dc, _0x11b130, _0x31303f, _0xa7c4f5, _0x50ed55, _0xedf19b, _0x602baf, _0xe7d70d) { const _0x5da21b = _0x456f86, _0x54f281 = Math['sin'](_0x31303f), _0x2d95de = Math[_0x5da21b(0x23d)](_0x31303f), _0xb25d25 = Math[_0x5da21b(0x204)](_0xa7c4f5), _0x3a869e = Math[_0x5da21b(0x23d)](_0xa7c4f5), _0x348213 = Math[_0x5da21b(0x204)](_0x50ed55), _0x2d15fb = Math['cos'](_0x50ed55); _0x5ce492[_0x5da21b(0x25a)]((_0x4da278, _0x20a535) => { const _0x942fc1 = _0x155efe[_0x20a535], _0x2a73d6 = _0x4da278['x'], _0x44b33a = _0x4da278['z'] * _0x54f281 + _0x4da278['y'] * _0x2d95de, _0x3ab24b = _0x4da278['z'] * _0x2d95de - _0x4da278['y'] * _0x54f281, _0x5d102f = _0x2a73d6 * _0x3a869e - _0x3ab24b * _0xb25d25, _0x10b64b = _0x44b33a, _0x2215b7 = _0x2a73d6 * _0xb25d25 + _0x3ab24b * _0x3a869e, _0xb79361 = _0x5d102f * _0x2d15fb - _0x10b64b * _0x348213, _0x4bdaa3 = _0x5d102f * _0x348213 + _0x10b64b * _0x2d15fb, _0xba7a13 = _0x2215b7; _0x942fc1['x'] = _0xb79361 * _0xedf19b + _0x4c92b5, _0x942fc1['y'] = _0x4bdaa3 * _0x602baf + _0x6190dc, _0x942fc1['z'] = _0xba7a13 * _0xe7d70d + _0x11b130; }); } const projectVertex = _0x188057 => { const _0x580eb3 = cameraDistance * sceneScale, _0x4bf07b = _0x580eb3 / (cameraDistance - _0x188057['z']); _0x188057['x'] = _0x188057['x'] * _0x4bf07b, _0x188057['y'] = _0x188057['y'] * _0x4bf07b; }, projectVertexTo = (_0x53d0ff, _0x142a10) => { const _0xfb80b2 = cameraDistance * sceneScale, _0x195066 = _0xfb80b2 / (cameraDistance - _0x53d0ff['z']); _0x142a10['x'] = _0x53d0ff['x'] * _0x195066, _0x142a10['y'] = _0x53d0ff['y'] * _0x195066; }, PERF_START = () => { }, PERF_END = () => { }, PERF_UPDATE = () => { }; function makeCubeModel({ scale: scale = 0x1 }) { return { 'vertices': [{ 'x': -scale, 'y': -scale, 'z': scale }, { 'x': scale, 'y': -scale, 'z': scale }, { 'x': scale, 'y': scale, 'z': scale }, { 'x': -scale, 'y': scale, 'z': scale }, { 'x': -scale, 'y': -scale, 'z': -scale }, { 'x': scale, 'y': -scale, 'z': -scale }, { 'x': scale, 'y': scale, 'z': -scale }, { 'x': -scale, 'y': scale, 'z': -scale }], 'polys': [{ 'vIndexes': [0x0, 0x1, 0x2, 0x3] }, { 'vIndexes': [0x7, 0x6, 0x5, 0x4] }, { 'vIndexes': [0x3, 0x2, 0x6, 0x7] }, { 'vIndexes': [0x4, 0x5, 0x1, 0x0] }, { 'vIndexes': [0x5, 0x6, 0x2, 0x1] }, { 'vIndexes': [0x0, 0x3, 0x7, 0x4] }] }; } function makeRecursiveCubeModel({ recursionLevel: _0x53469a, splitFn: _0x2253b2, color: _0x1ce228, scale: scale = 0x1 }) { const _0x37b00b = _0x456f86, _0x152f1b = _0x26425a => 0x1 / 0x3 ** _0x26425a; let _0x495dea = [{ 'x': 0x0, 'y': 0x0, 'z': 0x0 }]; for (let _0x41ccea = 0x1; _0x41ccea <= _0x53469a; _0x41ccea++) { const _0x1d4280 = _0x152f1b(_0x41ccea) * 0x2, _0xa7d471 = []; _0x495dea[_0x37b00b(0x25a)](_0x400017 => { const _0x489445 = _0x37b00b; _0xa7d471[_0x489445(0x250)](..._0x2253b2(_0x400017, _0x1d4280)); }), _0x495dea = _0xa7d471; } const _0xf2bb87 = { 'vertices': [], 'polys': [] }, _0x4e8e79 = makeCubeModel({ 'scale': 0x1 }); _0x4e8e79[_0x37b00b(0x295)][_0x37b00b(0x25a)](scaleVector(_0x152f1b(_0x53469a))); const _0x7fc969 = _0x152f1b(_0x53469a) * (0x3 ** _0x53469a - 0x1); return _0x495dea[_0x37b00b(0x25a)]((_0x3758c9, _0x32e268) => { const _0x14b9e4 = _0x37b00b, _0x3952b6 = Math[_0x14b9e4(0x1fc)](Math['abs'](_0x3758c9['x']), Math[_0x14b9e4(0x22f)](_0x3758c9['y']), Math[_0x14b9e4(0x22f)](_0x3758c9['z'])) / _0x7fc969, _0x1ccff1 = _0x53469a > 0x2 ? _0x3952b6 : (_0x3952b6 + 0.8) / 1.8; _0xf2bb87[_0x14b9e4(0x295)][_0x14b9e4(0x250)](..._0x4e8e79[_0x14b9e4(0x295)]['map'](_0x41a4e4 => ({ 'x': (_0x41a4e4['x'] + _0x3758c9['x']) * scale, 'y': (_0x41a4e4['y'] + _0x3758c9['y']) * scale, 'z': (_0x41a4e4['z'] + _0x3758c9['z']) * scale }))), _0xf2bb87[_0x14b9e4(0x28b)][_0x14b9e4(0x250)](..._0x4e8e79[_0x14b9e4(0x28b)]['map'](_0xf49201 => ({ 'vIndexes': _0xf49201[_0x14b9e4(0x263)][_0x14b9e4(0x280)](add(_0x32e268 * 0x8)) }))); }), _0xf2bb87; } function mengerSpongeSplit(_0x44e827, _0x5a0ec6) { return [{ 'x': _0x44e827['x'] + _0x5a0ec6, 'y': _0x44e827['y'] - _0x5a0ec6, 'z': _0x44e827['z'] + _0x5a0ec6 }, { 'x': _0x44e827['x'] + _0x5a0ec6, 'y': _0x44e827['y'] - _0x5a0ec6, 'z': _0x44e827['z'] + 0x0 }, { 'x': _0x44e827['x'] + _0x5a0ec6, 'y': _0x44e827['y'] - _0x5a0ec6, 'z': _0x44e827['z'] - _0x5a0ec6 }, { 'x': _0x44e827['x'] + 0x0, 'y': _0x44e827['y'] - _0x5a0ec6, 'z': _0x44e827['z'] + _0x5a0ec6 }, { 'x': _0x44e827['x'] + 0x0, 'y': _0x44e827['y'] - _0x5a0ec6, 'z': _0x44e827['z'] - _0x5a0ec6 }, { 'x': _0x44e827['x'] - _0x5a0ec6, 'y': _0x44e827['y'] - _0x5a0ec6, 'z': _0x44e827['z'] + _0x5a0ec6 }, { 'x': _0x44e827['x'] - _0x5a0ec6, 'y': _0x44e827['y'] - _0x5a0ec6, 'z': _0x44e827['z'] + 0x0 }, { 'x': _0x44e827['x'] - _0x5a0ec6, 'y': _0x44e827['y'] - _0x5a0ec6, 'z': _0x44e827['z'] - _0x5a0ec6 }, { 'x': _0x44e827['x'] + _0x5a0ec6, 'y': _0x44e827['y'] + _0x5a0ec6, 'z': _0x44e827['z'] + _0x5a0ec6 }, { 'x': _0x44e827['x'] + _0x5a0ec6, 'y': _0x44e827['y'] + _0x5a0ec6, 'z': _0x44e827['z'] + 0x0 }, { 'x': _0x44e827['x'] + _0x5a0ec6, 'y': _0x44e827['y'] + _0x5a0ec6, 'z': _0x44e827['z'] - _0x5a0ec6 }, { 'x': _0x44e827['x'] + 0x0, 'y': _0x44e827['y'] + _0x5a0ec6, 'z': _0x44e827['z'] + _0x5a0ec6 }, { 'x': _0x44e827['x'] + 0x0, 'y': _0x44e827['y'] + _0x5a0ec6, 'z': _0x44e827['z'] - _0x5a0ec6 }, { 'x': _0x44e827['x'] - _0x5a0ec6, 'y': _0x44e827['y'] + _0x5a0ec6, 'z': _0x44e827['z'] + _0x5a0ec6 }, { 'x': _0x44e827['x'] - _0x5a0ec6, 'y': _0x44e827['y'] + _0x5a0ec6, 'z': _0x44e827['z'] + 0x0 }, { 'x': _0x44e827['x'] - _0x5a0ec6, 'y': _0x44e827['y'] + _0x5a0ec6, 'z': _0x44e827['z'] - _0x5a0ec6 }, { 'x': _0x44e827['x'] + _0x5a0ec6, 'y': _0x44e827['y'] + 0x0, 'z': _0x44e827['z'] + _0x5a0ec6 }, { 'x': _0x44e827['x'] + _0x5a0ec6, 'y': _0x44e827['y'] + 0x0, 'z': _0x44e827['z'] - _0x5a0ec6 }, { 'x': _0x44e827['x'] - _0x5a0ec6, 'y': _0x44e827['y'] + 0x0, 'z': _0x44e827['z'] + _0x5a0ec6 }, { 'x': _0x44e827['x'] - _0x5a0ec6, 'y': _0x44e827['y'] + 0x0, 'z': _0x44e827['z'] - _0x5a0ec6 }]; } function optimizeModel(_0x5342d1, _0x50558c = 0.0001) { const _0x2c919e = _0x456f86, { vertices: _0x1d9b56, polys: _0x2462d2 } = _0x5342d1, _0x3a722b = (_0x1da00c, _0x2af0d7) => Math[_0x2c919e(0x22f)](_0x1da00c['x'] - _0x2af0d7['x']) < _0x50558c && Math[_0x2c919e(0x22f)](_0x1da00c['y'] - _0x2af0d7['y']) < _0x50558c && Math[_0x2c919e(0x22f)](_0x1da00c['z'] - _0x2af0d7['z']) < _0x50558c, _0x950211 = (_0x3bd816, _0x27d27c) => { const _0x226971 = _0x2c919e, _0x455d15 = _0x3bd816[_0x226971(0x263)], _0x20b5fe = _0x27d27c[_0x226971(0x263)]; return (_0x455d15[0x0] === _0x20b5fe[0x0] || _0x455d15[0x0] === _0x20b5fe[0x1] || _0x455d15[0x0] === _0x20b5fe[0x2] || _0x455d15[0x0] === _0x20b5fe[0x3]) && (_0x455d15[0x1] === _0x20b5fe[0x0] || _0x455d15[0x1] === _0x20b5fe[0x1] || _0x455d15[0x1] === _0x20b5fe[0x2] || _0x455d15[0x1] === _0x20b5fe[0x3]) && (_0x455d15[0x2] === _0x20b5fe[0x0] || _0x455d15[0x2] === _0x20b5fe[0x1] || _0x455d15[0x2] === _0x20b5fe[0x2] || _0x455d15[0x2] === _0x20b5fe[0x3]) && (_0x455d15[0x3] === _0x20b5fe[0x0] || _0x455d15[0x3] === _0x20b5fe[0x1] || _0x455d15[0x3] === _0x20b5fe[0x2] || _0x455d15[0x3] === _0x20b5fe[0x3]); }; _0x1d9b56['forEach']((_0x5d016c, _0x42e1c7) => { _0x5d016c['originalIndexes'] = [_0x42e1c7]; }); for (let _0x421342 = _0x1d9b56[_0x2c919e(0x285)] - 0x1; _0x421342 >= 0x0; _0x421342--) { for (let _0x1b96a8 = _0x421342 - 0x1; _0x1b96a8 >= 0x0; _0x1b96a8--) { const _0x283260 = _0x1d9b56[_0x421342], _0x40a063 = _0x1d9b56[_0x1b96a8]; if (_0x3a722b(_0x283260, _0x40a063)) { _0x1d9b56[_0x2c919e(0x236)](_0x421342, 0x1), _0x40a063[_0x2c919e(0x1f9)][_0x2c919e(0x250)](..._0x283260[_0x2c919e(0x1f9)]); break; } } } _0x1d9b56[_0x2c919e(0x25a)]((_0x587d36, _0x7a89c2) => { const _0x5712d8 = _0x2c919e; _0x2462d2[_0x5712d8(0x25a)](_0x123b5 => { const _0x22ccd1 = _0x5712d8; _0x123b5['vIndexes'][_0x22ccd1(0x25a)]((_0xe5282f, _0x277c6d, _0x32239d) => { const _0x4a5aed = _0x22ccd1, _0xaff006 = _0x587d36[_0x4a5aed(0x1f9)]; _0xaff006[_0x4a5aed(0x242)](_0xe5282f) && (_0x32239d[_0x277c6d] = _0x7a89c2); }); }); }), _0x2462d2[_0x2c919e(0x25a)](_0x393103 => { const _0x59047f = _0x2c919e, _0x468858 = _0x393103[_0x59047f(0x263)]; _0x393103['sum'] = _0x468858[0x0] + _0x468858[0x1] + _0x468858[0x2] + _0x468858[0x3]; }), _0x2462d2['sort']((_0x246569, _0x5ec118) => _0x5ec118[_0x2c919e(0x27f)] - _0x246569[_0x2c919e(0x27f)]); for (let _0x39c7d8 = _0x2462d2[_0x2c919e(0x285)] - 0x1; _0x39c7d8 >= 0x0; _0x39c7d8--) { for (let _0x1195e9 = _0x39c7d8 - 0x1; _0x1195e9 >= 0x0; _0x1195e9--) { const _0x4c934e = _0x2462d2[_0x39c7d8], _0x4e3c9a = _0x2462d2[_0x1195e9]; if (_0x4c934e[_0x2c919e(0x27f)] !== _0x4e3c9a['sum']) break; if (_0x950211(_0x4c934e, _0x4e3c9a)) { _0x2462d2[_0x2c919e(0x236)](_0x39c7d8, 0x1), _0x2462d2[_0x2c919e(0x236)](_0x1195e9, 0x1), _0x39c7d8--; break; } } } return _0x5342d1; } class Entity { constructor({ model: _0x3a0aa8, color: _0xb53ee8, wireframe: wireframe = ![] }) { const _0x1a133b = _0x456f86, _0x405665 = cloneVertices(_0x3a0aa8['vertices']), _0x25fa10 = cloneVertices(_0x3a0aa8[_0x1a133b(0x295)]), _0x5457d2 = colorToHex(_0xb53ee8), _0xc86a6c = shadeColor(_0xb53ee8, 0.4), _0x12e5f6 = _0x3a0aa8[_0x1a133b(0x28b)]['map'](_0x1ced42 => ({ 'vertices': _0x1ced42[_0x1a133b(0x263)][_0x1a133b(0x280)](_0x19fe0a => _0x405665[_0x19fe0a]), 'color': _0xb53ee8, 'wireframe': wireframe, 'strokeWidth': wireframe ? 0x2 : 0x0, 'strokeColor': _0x5457d2, 'strokeColorDark': _0xc86a6c, 'depth': 0x0, 'middle': { 'x': 0x0, 'y': 0x0, 'z': 0x0 }, 'normalWorld': { 'x': 0x0, 'y': 0x0, 'z': 0x0 }, 'normalCamera': { 'x': 0x0, 'y': 0x0, 'z': 0x0 } })), _0x4cbdc0 = _0x3a0aa8[_0x1a133b(0x28b)][_0x1a133b(0x280)](_0x3add34 => ({ 'vertices': _0x3add34[_0x1a133b(0x263)][_0x1a133b(0x280)](_0x48b178 => _0x25fa10[_0x48b178]), 'wireframe': wireframe, 'normalWorld': { 'x': 0x0, 'y': 0x0, 'z': 0x0 } })); this[_0x1a133b(0x254)] = {}, this[_0x1a133b(0x214)] = _0x3a0aa8, this[_0x1a133b(0x295)] = _0x405665, this[_0x1a133b(0x28b)] = _0x12e5f6, this[_0x1a133b(0x261)] = _0x25fa10, this['shadowPolys'] = _0x4cbdc0, this[_0x1a133b(0x20a)](); } ['reset']() { const _0x59edd2 = _0x456f86; this['x'] = 0x0, this['y'] = 0x0, this['z'] = 0x0, this['xD'] = 0x0, this['yD'] = 0x0, this['zD'] = 0x0, this['rotateX'] = 0x0, this[_0x59edd2(0x228)] = 0x0, this[_0x59edd2(0x22a)] = 0x0, this[_0x59edd2(0x1ff)] = 0x0, this[_0x59edd2(0x1f7)] = 0x0, this[_0x59edd2(0x1f2)] = 0x0, this[_0x59edd2(0x281)] = 0x1, this[_0x59edd2(0x286)] = 0x1, this[_0x59edd2(0x226)] = 0x1, this['projected']['x'] = 0x0, this[_0x59edd2(0x254)]['y'] = 0x0; } ['transform']() { const _0x4997f5 = _0x456f86; transformVertices(this['model']['vertices'], this['vertices'], this['x'], this['y'], this['z'], this[_0x4997f5(0x206)], this[_0x4997f5(0x228)], this[_0x4997f5(0x22a)], this[_0x4997f5(0x281)], this['scaleY'], this[_0x4997f5(0x226)]), copyVerticesTo(this[_0x4997f5(0x295)], this['shadowVertices']); } [_0x456f86(0x221)]() { const _0xec46b5 = _0x456f86; projectVertexTo(this, this[_0xec46b5(0x254)]); } } const targets = [], targetPool = new Map(allColors['map'](_0x55e37e => [_0x55e37e, []])), targetWireframePool = new Map(allColors[_0x456f86(0x280)](_0x35f85a => [_0x35f85a, []])), getTarget = (() => { const _0x597e8d = makeSpawner({ 'chance': 0.5, 'cooldownPerSpawn': 0x2710, 'maxSpawns': 0x1 }); let _0x62d012 = ![]; const _0x4ad1f9 = makeSpawner({ 'chance': 0.3, 'cooldownPerSpawn': 0x2ee0, 'maxSpawns': 0x1 }), _0x3e5ddb = makeSpawner({ 'chance': 0.1, 'cooldownPerSpawn': 0x2710, 'maxSpawns': 0x1 }), _0x16f270 = [['x', 'y'], ['y', 'z'], ['z', 'x']]; function _0x531147(_0x12c5dd, _0x42ac32) { const _0x1547c9 = _0x574a, _0x1fff43 = _0x42ac32 ? targetWireframePool : targetPool; let _0x2ac2bc = _0x1fff43['get'](_0x12c5dd)['pop'](); return !_0x2ac2bc && (_0x2ac2bc = new Entity({ 'model': optimizeModel(makeRecursiveCubeModel({ 'recursionLevel': 0x1, 'splitFn': mengerSpongeSplit, 'scale': targetRadius })), 'color': _0x12c5dd, 'wireframe': _0x42ac32 }), _0x2ac2bc[_0x1547c9(0x22c)] = _0x12c5dd, _0x2ac2bc[_0x1547c9(0x1f6)] = _0x42ac32, _0x2ac2bc[_0x1547c9(0x237)] = ![], _0x2ac2bc[_0x1547c9(0x253)] = 0x0, _0x2ac2bc[_0x1547c9(0x26d)] = 0x0), _0x2ac2bc; } return function _0x43f289() { const _0x5562c7 = _0x574a; if (_0x62d012 && state[_0x5562c7(0x26f)][_0x5562c7(0x296)] <= doubleStrongEnableScore) _0x62d012 = ![]; else !_0x62d012 && state[_0x5562c7(0x26f)][_0x5562c7(0x296)] > doubleStrongEnableScore && (_0x62d012 = !![], _0x4ad1f9[_0x5562c7(0x245)]({ 'maxSpawns': 0x2 })); let _0x43f4a5 = pickOne([BLUE, GREEN, ORANGE]), _0xfdaffa = ![], _0x358504 = 0x1, _0xcf6a56 = 0x3; const _0x4ab004 = state[_0x5562c7(0x26f)][_0x5562c7(0x252)] >= spinnerThreshold && isInGame() && _0x3e5ddb[_0x5562c7(0x266)](); if (state[_0x5562c7(0x26f)]['cubeCount'] >= slowmoThreshold && _0x597e8d[_0x5562c7(0x266)]()) _0x43f4a5 = BLUE, _0xfdaffa = !![]; else state[_0x5562c7(0x26f)][_0x5562c7(0x252)] >= strongThreshold && _0x4ad1f9['shouldSpawn']() && (_0x43f4a5 = PINK, _0x358504 = 0x3); const _0x44aa07 = _0x531147(_0x43f4a5, _0xfdaffa); _0x44aa07[_0x5562c7(0x237)] = ![], _0x44aa07[_0x5562c7(0x253)] = _0xcf6a56, _0x44aa07[_0x5562c7(0x26d)] = _0x358504, updateTargetHealth(_0x44aa07, 0x0); const _0x4e5e6e = [Math[_0x5562c7(0x268)]() * 0.1 - 0.05, Math[_0x5562c7(0x268)]() * 0.1 - 0.05]; _0x4ab004 && (_0x4e5e6e[0x0] = -0.25, _0x4e5e6e[0x1] = 0x0, _0x44aa07[_0x5562c7(0x22a)] = random(0x0, TAU)); const _0x26b81b = pickOne(_0x16f270); return _0x4e5e6e['forEach']((_0x35b2bd, _0x19dde5) => { switch (_0x26b81b[_0x19dde5]) { case 'x': _0x44aa07['rotateXD'] = _0x35b2bd; break; case 'y': _0x44aa07['rotateYD'] = _0x35b2bd; break; case 'z': _0x44aa07['rotateZD'] = _0x35b2bd; break; } }), _0x44aa07; }; })(), updateTargetHealth = (_0x4d95c8, _0x1e5346) => { const _0x1eb1e9 = _0x456f86; _0x4d95c8['health'] += _0x1e5346; if (!_0x4d95c8[_0x1eb1e9(0x1f6)]) { const _0x2e2fbd = _0x4d95c8[_0x1eb1e9(0x26d)] - 0x1, _0x1940dd = makeTargetGlueColor(_0x4d95c8); for (let _0x3f0619 of _0x4d95c8[_0x1eb1e9(0x28b)]) { _0x3f0619['strokeWidth'] = _0x2e2fbd, _0x3f0619['strokeColor'] = _0x1940dd; } } }, returnTarget = _0x3f2fc3 => { const _0x51ba72 = _0x456f86; _0x3f2fc3[_0x51ba72(0x20a)](); const _0x23e38b = _0x3f2fc3[_0x51ba72(0x1f6)] ? targetWireframePool : targetPool; _0x23e38b[_0x51ba72(0x213)](_0x3f2fc3[_0x51ba72(0x22c)])['push'](_0x3f2fc3); }; function resetAllTargets() { const _0x344e1a = _0x456f86; while (targets[_0x344e1a(0x285)]) { returnTarget(targets[_0x344e1a(0x247)]()); } } const frags = [], fragPool = new Map(allColors[_0x456f86(0x280)](_0x11e689 => [_0x11e689, []])), fragWireframePool = new Map(allColors[_0x456f86(0x280)](_0x161787 => [_0x161787, []])), createBurst = (() => { const _0x354855 = _0x456f86, _0x2fd6a4 = mengerSpongeSplit({ 'x': 0x0, 'y': 0x0, 'z': 0x0 }, fragRadius * 0x2), _0x422e98 = cloneVertices(_0x2fd6a4), _0xf089f0 = cloneVertices(_0x2fd6a4), _0x3e6bf0 = cloneVertices(_0x2fd6a4), _0x818722 = _0x2fd6a4[_0x354855(0x280)](normalize), _0x393f2e = cloneVertices(_0x818722), _0x2e65b6 = _0x2fd6a4[_0x354855(0x285)]; function _0x3d0c4a(_0x15839b) { const _0x1f37b6 = _0x354855, _0x533595 = _0x15839b[_0x1f37b6(0x1f6)] ? fragWireframePool : fragPool; let _0x5b9ad4 = _0x533595['get'](_0x15839b[_0x1f37b6(0x22c)])['pop'](); return !_0x5b9ad4 && (_0x5b9ad4 = new Entity({ 'model': makeCubeModel({ 'scale': fragRadius }), 'color': _0x15839b[_0x1f37b6(0x22c)], 'wireframe': _0x15839b[_0x1f37b6(0x1f6)] }), _0x5b9ad4[_0x1f37b6(0x22c)] = _0x15839b[_0x1f37b6(0x22c)], _0x5b9ad4[_0x1f37b6(0x1f6)] = _0x15839b['wireframe']), _0x5b9ad4; } return (_0x1a2d24, _0x511804 = 0x1) => { const _0xe4d26a = _0x354855; transformVertices(_0x2fd6a4, _0x422e98, _0x1a2d24['x'], _0x1a2d24['y'], _0x1a2d24['z'], _0x1a2d24[_0xe4d26a(0x206)], _0x1a2d24[_0xe4d26a(0x228)], _0x1a2d24['rotateZ'], 0x1, 0x1, 0x1), transformVertices(_0x2fd6a4, _0xf089f0, _0x1a2d24['x'] - _0x1a2d24['xD'], _0x1a2d24['y'] - _0x1a2d24['yD'], _0x1a2d24['z'] - _0x1a2d24['zD'], _0x1a2d24['rotateX'] - _0x1a2d24[_0xe4d26a(0x1ff)], _0x1a2d24[_0xe4d26a(0x228)] - _0x1a2d24[_0xe4d26a(0x1f7)], _0x1a2d24['rotateZ'] - _0x1a2d24['rotateZD'], 0x1, 0x1, 0x1); for (let _0x202192 = 0x0; _0x202192 < _0x2e65b6; _0x202192++) { const _0x10ef63 = _0x422e98[_0x202192], _0x24aa58 = _0xf089f0[_0x202192], _0x72f542 = _0x3e6bf0[_0x202192]; _0x72f542['x'] = _0x10ef63['x'] - _0x24aa58['x'], _0x72f542['y'] = _0x10ef63['y'] - _0x24aa58['y'], _0x72f542['z'] = _0x10ef63['z'] - _0x24aa58['z']; } transformVertices(_0x818722, _0x393f2e, 0x0, 0x0, 0x0, _0x1a2d24[_0xe4d26a(0x206)], _0x1a2d24[_0xe4d26a(0x228)], _0x1a2d24[_0xe4d26a(0x22a)], 0x1, 0x1, 0x1); for (let _0x5c0379 = 0x0; _0x5c0379 < _0x2e65b6; _0x5c0379++) { const _0x86e624 = _0x422e98[_0x5c0379], _0xbc10b2 = _0x3e6bf0[_0x5c0379], _0x54e624 = _0x393f2e[_0x5c0379], _0x5d2e98 = _0x3d0c4a(_0x1a2d24); _0x5d2e98['x'] = _0x86e624['x'], _0x5d2e98['y'] = _0x86e624['y'], _0x5d2e98['z'] = _0x86e624['z'], _0x5d2e98[_0xe4d26a(0x206)] = _0x1a2d24[_0xe4d26a(0x206)], _0x5d2e98[_0xe4d26a(0x228)] = _0x1a2d24[_0xe4d26a(0x228)], _0x5d2e98[_0xe4d26a(0x22a)] = _0x1a2d24[_0xe4d26a(0x22a)]; const _0x283e5d = 0x2 * _0x511804, _0x5ecba3 = 0x2 * _0x511804, _0x599e8a = 0.015; _0x5d2e98['xD'] = _0xbc10b2['x'] + _0x54e624['x'] * _0x283e5d + Math[_0xe4d26a(0x268)]() * _0x5ecba3, _0x5d2e98['yD'] = _0xbc10b2['y'] + _0x54e624['y'] * _0x283e5d + Math[_0xe4d26a(0x268)]() * _0x5ecba3, _0x5d2e98['zD'] = _0xbc10b2['z'] + _0x54e624['z'] * _0x283e5d + Math['random']() * _0x5ecba3, _0x5d2e98['rotateXD'] = _0x5d2e98['xD'] * _0x599e8a, _0x5d2e98[_0xe4d26a(0x1f7)] = _0x5d2e98['yD'] * _0x599e8a, _0x5d2e98[_0xe4d26a(0x1f2)] = _0x5d2e98['zD'] * _0x599e8a, frags[_0xe4d26a(0x250)](_0x5d2e98); }; }; })(), returnFrag = _0x1594f1 => { const _0x154e6e = _0x456f86; _0x1594f1[_0x154e6e(0x20a)](); const _0x2df36e = _0x1594f1[_0x154e6e(0x1f6)] ? fragWireframePool : fragPool; _0x2df36e[_0x154e6e(0x213)](_0x1594f1[_0x154e6e(0x22c)])[_0x154e6e(0x250)](_0x1594f1); }, sparks = [], sparkPool = []; function addSpark(_0x2ff3cf, _0x4c52f9, _0x43970f, _0x28f25f) { const _0x3d9590 = _0x456f86, _0x2a1ea2 = sparkPool[_0x3d9590(0x247)]() || {}; return _0x2a1ea2['x'] = _0x2ff3cf + _0x43970f * 0.5, _0x2a1ea2['y'] = _0x4c52f9 + _0x28f25f * 0.5, _0x2a1ea2['xD'] = _0x43970f, _0x2a1ea2['yD'] = _0x28f25f, _0x2a1ea2[_0x3d9590(0x28f)] = random(0xc8, 0x12c), _0x2a1ea2[_0x3d9590(0x279)] = _0x2a1ea2[_0x3d9590(0x28f)], sparks[_0x3d9590(0x250)](_0x2a1ea2), _0x2a1ea2; } function sparkBurst(_0x15d639, _0x39d085, _0x38a6ce, _0x4fd1fa) { const _0x1cde11 = _0x456f86, _0x5bbc9e = TAU / _0x38a6ce; for (let _0x7706f1 = 0x0; _0x7706f1 < _0x38a6ce; _0x7706f1++) { const _0x560cb5 = _0x7706f1 * _0x5bbc9e + _0x5bbc9e * Math[_0x1cde11(0x268)](), _0x251463 = (0x1 - Math['random']() ** 0x3) * _0x4fd1fa; addSpark(_0x15d639, _0x39d085, Math[_0x1cde11(0x204)](_0x560cb5) * _0x251463, Math[_0x1cde11(0x23d)](_0x560cb5) * _0x251463); } } let glueShedVertices; function glueShedSparks(_0x3cd19f) { const _0xc923fa = _0x456f86; !glueShedVertices ? glueShedVertices = cloneVertices(_0x3cd19f[_0xc923fa(0x295)]) : copyVerticesTo(_0x3cd19f['vertices'], glueShedVertices), glueShedVertices['forEach'](_0x409b55 => { const _0x3c6c09 = _0xc923fa; Math[_0x3c6c09(0x268)]() < 0.4 && (projectVertex(_0x409b55), addSpark(_0x409b55['x'], _0x409b55['y'], random(-0xc, 0xc), random(-0xc, 0xc))); }); } function returnSpark(_0xfa27ad) { const _0x412686 = _0x456f86; sparkPool[_0x412686(0x250)](_0xfa27ad); } const hudContainerNode = $(_0x456f86(0x22e)); function setHudVisibility(_0x241468) { const _0x9fcba1 = _0x456f86; _0x241468 ? hudContainerNode[_0x9fcba1(0x20d)]['display'] = _0x9fcba1(0x25b) : hudContainerNode[_0x9fcba1(0x20d)][_0x9fcba1(0x1f8)] = _0x9fcba1(0x26a); } const scoreNode = $(_0x456f86(0x284)), cubeCountNode = $(_0x456f86(0x201)); function renderScoreHud() { const _0x11816a = _0x456f86; isCasualGame() ? (scoreNode[_0x11816a(0x20d)][_0x11816a(0x1f8)] = _0x11816a(0x26a), cubeCountNode[_0x11816a(0x20d)][_0x11816a(0x259)] = 0x1) : (scoreNode[_0x11816a(0x293)] = _0x11816a(0x243) + state[_0x11816a(0x26f)]['score'], scoreNode['style'][_0x11816a(0x1f8)] = _0x11816a(0x25b), cubeCountNode['style'][_0x11816a(0x259)] = 0.65), cubeCountNode[_0x11816a(0x293)] = _0x11816a(0x24c) + state['game'][_0x11816a(0x252)]; } renderScoreHud(), handlePointerDown($(_0x456f86(0x238)), () => pauseGame()); const slowmoNode = $(_0x456f86(0x25c)), slowmoBarNode = $(_0x456f86(0x22b)); function renderSlowmoStatus(_0x2981a4) { const _0x14a59d = _0x456f86; slowmoNode['style'][_0x14a59d(0x259)] = _0x2981a4 === 0x0 ? 0x0 : 0x1, slowmoBarNode[_0x14a59d(0x20d)][_0x14a59d(0x288)] = _0x14a59d(0x23b) + _0x2981a4[_0x14a59d(0x24f)](0x3) + ')'; } const menuContainerNode = $(_0x456f86(0x24a)), menuMainNode = $(_0x456f86(0x1fe)), menuPauseNode = $(_0x456f86(0x20f)), menuScoreNode = $(_0x456f86(0x273)), finalScoreLblNode = $(_0x456f86(0x218)), highScoreLblNode = $(_0x456f86(0x249)); function showMenu(_0x41de0b) { const _0x53d373 = _0x456f86; _0x41de0b[_0x53d373(0x23a)][_0x53d373(0x25d)](_0x53d373(0x1f4)); } function _0x248d() { const _0x24b5bf = ['setItem', 'play', 'rechargeTime', 'drawShadows', '24390wJQsxR', 'draw', 'strokeColorDark', 'lineJoin', 'project', 'strokeStyle', 'lineWidth', 'beginPath', 'tick', 'scaleZ', 'time', 'rotateY', 'rgba(170,221,255,.62)', 'rotateZ', '.slowmo__bar', 'color', 'units', '.hud', 'abs', 'fillStyle', 'fill', 'clientY', 'scale', 'shadowPolys', 'moveTo', 'splice', 'hit', '.pause-btn', 'touchBreak', 'classList', 'scaleX(', 'touchstart', 'cos', '4383OpRRHU', 'normalWorld', 'menus', 'getElementById', 'includes', 'SCORE:\x20', 'strokeWidth', 'mutate', 'MENU_SCORE', 'pop', 'height', '.high-score-lbl', '.menus', 'globalAlpha', 'CUBES\x20SMASHED:\x20', 'clientX', '.resume-btn', 'toFixed', 'push', 'maxSpawns', 'cubeCount', 'maxHealth', 'projected', 'rgb(170,221,255)', 'middle', 'innerHeight', 'xad', 'opacity', 'forEach', 'block', '.slowmo', 'add', 'body', '.play-casual-btn', '4042524qJVbSe', 'shadowVertices', 'innerWidth', 'vIndexes', 'keydown', 'getItem', 'shouldSpawn', 'strokeColor', 'random', 'touchmove', 'none', 'hypot', 'pointerup', 'health', '.menu-btn--pause', 'game', 'shadows', 'High\x20Score:\x20', 'closePath', '.menu--score', 'lineTo', 'mouseleave', 'padStart', 'frame', 'shift', 'maxLife', 'toggle', 'textContent', 'sort', '#262e36', '443178mUZXZc', 'sum', 'map', 'scaleX', 'toString', '.play-again-btn', '.score-lbl', 'length', 'scaleY', 'PointerEvent', 'transform', '320555DOTqKH', '3366517XXPfHy', 'polys', 'stroke', 'pointermove', 'devicePixelRatio', 'life', '__menja__highScore', 'addEventListener', 'GAME_MODE_RANKED', 'innerText', 'isPrimary', 'vertices', 'score', 'depth', 'rgba(170,221,255,.9)', '.play-normal-btn', 'rotateZD', 'mousedown', 'active', 'has-active', 'wireframe', 'rotateYD', 'display', 'originalIndexes', 'width', 'MENU_MAIN', 'max', '982926LEVLDL', '.menu--main', 'rotateXD', '8QdqJun', '.cube-count-lbl', 'touchend', 'preventDefault', 'sin', 'entities', 'rotateX', 'normalCamera', 'draw2D', 'changedTouches', 'reset', 'cooldownPerSpawn', 'setTransform', 'style', 'New\x20High\x20Score!', '.menu--pause', '8EgAkCW', 'min', 'mode', 'get', 'model', 'bevel', '75320FOiWDa', 'resize', '.final-score-lbl']; _0x248d = function () { return _0x24b5bf; }; return _0x248d(); } function hideMenu(_0x57c2e8) { _0x57c2e8['classList']['remove']('active'); } function renderMenus() { const _0x14d16e = _0x456f86; hideMenu(menuMainNode), hideMenu(menuPauseNode), hideMenu(menuScoreNode); switch (state[_0x14d16e(0x240)][_0x14d16e(0x1f4)]) { case MENU_MAIN: showMenu(menuMainNode); break; case MENU_PAUSE: showMenu(menuPauseNode); break; case MENU_SCORE: finalScoreLblNode['textContent'] = formatNumber(state[_0x14d16e(0x26f)][_0x14d16e(0x296)]); isNewHighScore() ? highScoreLblNode[_0x14d16e(0x27b)] = _0x14d16e(0x20e) : highScoreLblNode['textContent'] = _0x14d16e(0x271) + formatNumber(getHighScore()); showMenu(menuScoreNode); break; }setHudVisibility(!isMenuVisible()), menuContainerNode[_0x14d16e(0x23a)][_0x14d16e(0x27a)](_0x14d16e(0x1f5), isMenuVisible()), menuContainerNode[_0x14d16e(0x23a)]['toggle']('interactive-mode', isMenuVisible() && pointerIsDown); } renderMenus(), handleClick($(_0x456f86(0x1f1)), () => { setGameMode(GAME_MODE_RANKED), setActiveMenu(null), resetGame(); }), handleClick($(_0x456f86(0x25f)), () => { setGameMode(GAME_MODE_CASUAL), setActiveMenu(null), resetGame(); }), handleClick($('.resume-btn'), () => resumeGame()), handleClick($(_0x456f86(0x26e)), () => setActiveMenu(MENU_MAIN)), handleClick($('.play-again-btn'), () => { setActiveMenu(null), resetGame(); }), handleClick($('.menu-btn--score'), () => setActiveMenu(MENU_MAIN)), handleClick($(_0x456f86(0x1f1)), () => { setGameMode(GAME_MODE_RANKED), setActiveMenu(null), resetGame(); }), handleClick($('.play-casual-btn'), () => { setGameMode(GAME_MODE_CASUAL), setActiveMenu(null), resetGame(); }), handleClick($(_0x456f86(0x24e)), () => resumeGame()), handleClick($(_0x456f86(0x26e)), () => setActiveMenu(MENU_MAIN)), handleClick($(_0x456f86(0x283)), () => { setActiveMenu(null), resetGame(); }), handleClick($('.menu-btn--score'), () => setActiveMenu(MENU_MAIN)); function setActiveMenu(_0x5c110f) { state['menus']['active'] = _0x5c110f, renderMenus(); } function setScore(_0x72b27a) { const _0x4fc53a = _0x456f86; state[_0x4fc53a(0x26f)][_0x4fc53a(0x296)] = _0x72b27a, renderScoreHud(); } function incrementScore(_0xac92c5) { const _0xd4646c = _0x456f86; isInGame() && (state['game'][_0xd4646c(0x296)] += _0xac92c5, state[_0xd4646c(0x26f)]['score'] < 0x0 && (state[_0xd4646c(0x26f)][_0xd4646c(0x296)] = 0x0), renderScoreHud()); } function setCubeCount(_0x49ccd3) { const _0x5e288b = _0x456f86; state['game'][_0x5e288b(0x252)] = _0x49ccd3, renderScoreHud(); } function incrementCubeCount(_0xe7f007) { const _0x47327f = _0x456f86; isInGame() && (state[_0x47327f(0x26f)][_0x47327f(0x252)] += _0xe7f007, renderScoreHud()); } function setGameMode(_0x2d1c91) { const _0x2a5103 = _0x456f86; state[_0x2a5103(0x26f)][_0x2a5103(0x212)] = _0x2d1c91; } function resetGame() { const _0x9c03c9 = _0x456f86; resetAllTargets(), state[_0x9c03c9(0x26f)][_0x9c03c9(0x227)] = 0x0, resetAllCooldowns(), setScore(0x0), setCubeCount(0x0), spawnTime = getSpawnDelay(); } function pauseGame() { isInGame() && setActiveMenu(MENU_PAUSE); } function resumeGame() { isPaused() && setActiveMenu(null); } function endGame() { const _0x1968b9 = _0x456f86; handleCanvasPointerUp(), isNewHighScore() && setHighScore(state[_0x1968b9(0x26f)]['score']), setActiveMenu(MENU_SCORE); } window['addEventListener'](_0x456f86(0x264), _0x53031a => { _0x53031a['key'] === 'p' && (isPaused() ? resumeGame() : pauseGame()); }); let spawnTime = 0x0; const maxSpawnX = 0x1c2, pointerDelta = { 'x': 0x0, 'y': 0x0 }, pointerDeltaScaled = { 'x': 0x0, 'y': 0x0 }, slowmoDuration = 0x5dc; let slowmoRemaining = 0x0, spawnExtra = 0x0; const spawnExtraDelay = 0x12c; function _0x574a(_0x21d000, _0xacf434) { const _0x248d56 = _0x248d(); return _0x574a = function (_0x574abc, _0x409723) { _0x574abc = _0x574abc - 0x1ef; let _0x556da6 = _0x248d56[_0x574abc]; return _0x556da6; }, _0x574a(_0x21d000, _0xacf434); } let targetSpeed = 0x1; function tick(_0x543822, _0x5a3051, _0x10fa55, _0xdf96ae, _0x1cb57b) { const _0x3e0a3d = _0x456f86; PERF_START(_0x3e0a3d(0x277)), PERF_START(_0x3e0a3d(0x225)), state['game'][_0x3e0a3d(0x227)] += _0x10fa55; if (slowmoRemaining > 0x0) slowmoRemaining -= _0x10fa55, slowmoRemaining < 0x0 && (slowmoRemaining = 0x0), targetSpeed = pointerIsDown ? 0.075 : 0.3; else { const _0x47b153 = isMenuVisible() && pointerIsDown; targetSpeed = _0x47b153 ? 0.025 : 0x1; } renderSlowmoStatus(slowmoRemaining / slowmoDuration), gameSpeed += (targetSpeed - gameSpeed) / 0x16 * _0x1cb57b, gameSpeed = clamp(gameSpeed, 0x0, 0x1); const _0x569088 = _0x543822 / 0x2, _0x2522f3 = _0x5a3051 / 0x2, _0x17aea7 = 0x1 - airDrag * _0xdf96ae, _0x4b0148 = 0x1 - airDragSpark * _0xdf96ae, _0x109147 = 0x1 / (_0xdf96ae * 0.75 + 0.25); pointerDelta['x'] = 0x0, pointerDelta['y'] = 0x0, pointerDeltaScaled['x'] = 0x0, pointerDeltaScaled['y'] = 0x0; const _0x328132 = touchPoints[touchPoints[_0x3e0a3d(0x285)] - 0x1]; pointerIsDown && _0x328132 && !_0x328132['touchBreak'] && (pointerDelta['x'] = pointerScene['x'] - _0x328132['x'], pointerDelta['y'] = pointerScene['y'] - _0x328132['y'], pointerDeltaScaled['x'] = pointerDelta['x'] * _0x109147, pointerDeltaScaled['y'] = pointerDelta['y'] * _0x109147); const _0x1dc0f4 = Math[_0x3e0a3d(0x26b)](pointerDelta['x'], pointerDelta['y']), _0x21396d = _0x1dc0f4 * _0x109147; touchPoints[_0x3e0a3d(0x25a)](_0x52ea7c => _0x52ea7c[_0x3e0a3d(0x28f)] -= _0x10fa55); pointerIsDown && touchPoints['push']({ 'x': pointerScene['x'], 'y': pointerScene['y'], 'life': touchPointLife }); while (touchPoints[0x0] && touchPoints[0x0][_0x3e0a3d(0x28f)] <= 0x0) { touchPoints[_0x3e0a3d(0x278)](); } PERF_START(_0x3e0a3d(0x205)), spawnTime -= _0x10fa55; if (spawnTime <= 0x0) { spawnExtra > 0x0 ? (spawnExtra--, spawnTime = spawnExtraDelay) : spawnTime = getSpawnDelay(); const _0x4e6959 = getTarget(), _0x4adc68 = Math[_0x3e0a3d(0x211)](_0x569088 * 0.8, maxSpawnX); _0x4e6959['x'] = Math['random']() * _0x4adc68 * 0x2 - _0x4adc68, _0x4e6959['y'] = _0x2522f3 + targetHitRadius * 0x2, _0x4e6959['z'] = Math['random']() * targetRadius * 0x2 - targetRadius, _0x4e6959['xD'] = Math[_0x3e0a3d(0x268)]() * (_0x4e6959['x'] * -0x2 / 0x78), _0x4e6959['yD'] = -0x14, targets[_0x3e0a3d(0x250)](_0x4e6959); } const _0x2353b3 = -_0x569088 + targetRadius, _0x4ce206 = _0x569088 - targetRadius, _0x143c50 = -_0x2522f3 - 0x78, _0xafc90a = 0.4; _0x3cc4f5: for (let _0x2bab7d = targets[_0x3e0a3d(0x285)] - 0x1; _0x2bab7d >= 0x0; _0x2bab7d--) { const _0x1a7185 = targets[_0x2bab7d]; _0x1a7185['x'] += _0x1a7185['xD'] * _0xdf96ae, _0x1a7185['y'] += _0x1a7185['yD'] * _0xdf96ae; _0x1a7185['y'] < _0x143c50 && (_0x1a7185['y'] = _0x143c50, _0x1a7185['yD'] = 0x0); if (_0x1a7185['x'] < _0x2353b3) _0x1a7185['x'] = _0x2353b3, _0x1a7185['xD'] *= -_0xafc90a; else _0x1a7185['x'] > _0x4ce206 && (_0x1a7185['x'] = _0x4ce206, _0x1a7185['xD'] *= -_0xafc90a); _0x1a7185['z'] < backboardZ && (_0x1a7185['z'] = backboardZ, _0x1a7185['zD'] *= -_0xafc90a); _0x1a7185['yD'] += gravity * _0xdf96ae, _0x1a7185[_0x3e0a3d(0x206)] += _0x1a7185[_0x3e0a3d(0x1ff)] * _0xdf96ae, _0x1a7185[_0x3e0a3d(0x228)] += _0x1a7185['rotateYD'] * _0xdf96ae, _0x1a7185[_0x3e0a3d(0x22a)] += _0x1a7185[_0x3e0a3d(0x1f2)] * _0xdf96ae, _0x1a7185[_0x3e0a3d(0x288)](), _0x1a7185[_0x3e0a3d(0x221)](); if (_0x1a7185['y'] > _0x2522f3 + targetHitRadius * 0x2) { targets[_0x3e0a3d(0x236)](_0x2bab7d, 0x1), returnTarget(_0x1a7185); isInGame() && (isCasualGame() ? incrementScore(-0x19) : endGame()); continue; } const _0x27228b = Math['ceil'](_0x1dc0f4 / targetRadius * 0x2); for (let _0x3d2554 = 0x1; _0x3d2554 <= _0x27228b; _0x3d2554++) { const _0x4893d6 = 0x1 - _0x3d2554 / _0x27228b, _0x2349a3 = pointerScene['x'] - pointerDelta['x'] * _0x4893d6, _0x383478 = pointerScene['y'] - pointerDelta['y'] * _0x4893d6, _0x2cc578 = Math[_0x3e0a3d(0x26b)](_0x2349a3 - _0x1a7185['projected']['x'], _0x383478 - _0x1a7185[_0x3e0a3d(0x254)]['y']); if (_0x2cc578 <= targetHitRadius) { if (!_0x1a7185[_0x3e0a3d(0x237)]) { _0x1a7185[_0x3e0a3d(0x237)] = !![], _0x1a7185['xD'] += pointerDeltaScaled['x'] * hitDampening, _0x1a7185['yD'] += pointerDeltaScaled['y'] * hitDampening, _0x1a7185[_0x3e0a3d(0x1ff)] += pointerDeltaScaled['y'] * 0.001, _0x1a7185['rotateYD'] += pointerDeltaScaled['x'] * 0.001; const _0x34bf23 = 0x7 + _0x21396d * 0.125; _0x21396d > minPointerSpeed ? (_0x1a7185[_0x3e0a3d(0x26d)]--, incrementScore(0xa), _0x1a7185[_0x3e0a3d(0x26d)] <= 0x0 ? (incrementCubeCount(0x1), createBurst(_0x1a7185, _0x109147), sparkBurst(_0x2349a3, _0x383478, 0x8, _0x34bf23), _0x1a7185[_0x3e0a3d(0x1f6)] && (slowmoRemaining = slowmoDuration, spawnTime = 0x0, spawnExtra = 0x2), targets[_0x3e0a3d(0x236)](_0x2bab7d, 0x1), returnTarget(_0x1a7185)) : (sparkBurst(_0x2349a3, _0x383478, 0x8, _0x34bf23), glueShedSparks(_0x1a7185), updateTargetHealth(_0x1a7185, 0x0))) : (incrementScore(0x5), sparkBurst(_0x2349a3, _0x383478, 0x3, _0x34bf23)); } continue _0x3cc4f5; } } _0x1a7185['hit'] = ![]; } const _0x21ce9f = backboardZ + fragRadius, _0x4bf185 = -_0x543822, _0xccb108 = _0x543822; for (let _0x3239b3 = frags['length'] - 0x1; _0x3239b3 >= 0x0; _0x3239b3--) { const _0x356530 = frags[_0x3239b3]; _0x356530['x'] += _0x356530['xD'] * _0xdf96ae, _0x356530['y'] += _0x356530['yD'] * _0xdf96ae, _0x356530['z'] += _0x356530['zD'] * _0xdf96ae, _0x356530['xD'] *= _0x17aea7, _0x356530['yD'] *= _0x17aea7, _0x356530['zD'] *= _0x17aea7; _0x356530['y'] < _0x143c50 && (_0x356530['y'] = _0x143c50, _0x356530['yD'] = 0x0); _0x356530['z'] < _0x21ce9f && (_0x356530['z'] = _0x21ce9f, _0x356530['zD'] *= -_0xafc90a); _0x356530['yD'] += gravity * _0xdf96ae, _0x356530[_0x3e0a3d(0x206)] += _0x356530['rotateXD'] * _0xdf96ae, _0x356530[_0x3e0a3d(0x228)] += _0x356530[_0x3e0a3d(0x1f7)] * _0xdf96ae, _0x356530['rotateZ'] += _0x356530[_0x3e0a3d(0x1f2)] * _0xdf96ae, _0x356530[_0x3e0a3d(0x288)](), _0x356530[_0x3e0a3d(0x221)](); if (_0x356530[_0x3e0a3d(0x254)]['y'] > _0x2522f3 + targetHitRadius || _0x356530[_0x3e0a3d(0x254)]['x'] < _0x4bf185 || _0x356530[_0x3e0a3d(0x254)]['x'] > _0xccb108 || _0x356530['z'] > cameraFadeEndZ) { frags['splice'](_0x3239b3, 0x1), returnFrag(_0x356530); continue; } } for (let _0xc6bc9d = sparks[_0x3e0a3d(0x285)] - 0x1; _0xc6bc9d >= 0x0; _0xc6bc9d--) { const _0x30970a = sparks[_0xc6bc9d]; _0x30970a[_0x3e0a3d(0x28f)] -= _0x10fa55; if (_0x30970a['life'] <= 0x0) { sparks[_0x3e0a3d(0x236)](_0xc6bc9d, 0x1), returnSpark(_0x30970a); continue; } _0x30970a['x'] += _0x30970a['xD'] * _0xdf96ae, _0x30970a['y'] += _0x30970a['yD'] * _0xdf96ae, _0x30970a['xD'] *= _0x4b0148, _0x30970a['yD'] *= _0x4b0148, _0x30970a['yD'] += gravity * _0xdf96ae; } PERF_END('entities'), PERF_START('3D'), allVertices[_0x3e0a3d(0x285)] = 0x0, allPolys[_0x3e0a3d(0x285)] = 0x0, allShadowVertices['length'] = 0x0, allShadowPolys['length'] = 0x0, targets[_0x3e0a3d(0x25a)](_0x341ed4 => { const _0x569da8 = _0x3e0a3d; allVertices['push'](..._0x341ed4['vertices']), allPolys[_0x569da8(0x250)](..._0x341ed4['polys']), allShadowVertices[_0x569da8(0x250)](..._0x341ed4[_0x569da8(0x261)]), allShadowPolys['push'](..._0x341ed4[_0x569da8(0x234)]); }), frags[_0x3e0a3d(0x25a)](_0x7e75ef => { const _0x2ab2f4 = _0x3e0a3d; allVertices[_0x2ab2f4(0x250)](..._0x7e75ef[_0x2ab2f4(0x295)]), allPolys[_0x2ab2f4(0x250)](..._0x7e75ef['polys']), allShadowVertices[_0x2ab2f4(0x250)](..._0x7e75ef[_0x2ab2f4(0x261)]), allShadowPolys[_0x2ab2f4(0x250)](..._0x7e75ef[_0x2ab2f4(0x234)]); }), allPolys['forEach'](_0xabcf9 => computePolyNormal(_0xabcf9, _0x3e0a3d(0x23f))), allPolys[_0x3e0a3d(0x25a)](computePolyDepth), allPolys[_0x3e0a3d(0x27c)]((_0x3d161d, _0x2d5b99) => _0x2d5b99[_0x3e0a3d(0x1ef)] - _0x3d161d['depth']), allVertices[_0x3e0a3d(0x25a)](projectVertex), allPolys[_0x3e0a3d(0x25a)](_0x51fcdb => computePolyNormal(_0x51fcdb, _0x3e0a3d(0x207))), PERF_END('3D'), PERF_START(_0x3e0a3d(0x270)), transformVertices(allShadowVertices, allShadowVertices, 0x0, 0x0, 0x0, TAU / 0x8, 0x0, 0x0, 0x1, 0x1, 0x1), allShadowPolys[_0x3e0a3d(0x25a)](_0x2419ba => computePolyNormal(_0x2419ba, _0x3e0a3d(0x23f))); const _0x1f5e8b = Math[_0x3e0a3d(0x26b)](0x1, 0x1), _0x378e45 = allShadowVertices[_0x3e0a3d(0x285)]; for (let _0x3b0def = 0x0; _0x3b0def < _0x378e45; _0x3b0def++) { const _0x533801 = allVertices[_0x3b0def]['z'] - backboardZ; allShadowVertices[_0x3b0def]['z'] -= _0x1f5e8b * _0x533801; } transformVertices(allShadowVertices, allShadowVertices, 0x0, 0x0, 0x0, -TAU / 0x8, 0x0, 0x0, 0x1, 0x1, 0x1), allShadowVertices[_0x3e0a3d(0x25a)](projectVertex), PERF_END(_0x3e0a3d(0x270)), PERF_END('tick'); } function draw(_0x20c112, _0x1ba8ef, _0x2c73a3, _0x593b52) { const _0xc477a4 = _0x456f86; PERF_START(_0xc477a4(0x21e)); const _0x512ad8 = _0x1ba8ef / 0x2, _0x2316d9 = _0x2c73a3 / 0x2; _0x20c112[_0xc477a4(0x220)] = _0xc477a4(0x215), PERF_START(_0xc477a4(0x21c)), _0x20c112['fillStyle'] = shadowColor, _0x20c112['strokeStyle'] = shadowColor, allShadowPolys['forEach'](_0x571821 => { const _0x7571cf = _0xc477a4; if (_0x571821[_0x7571cf(0x1f6)]) { _0x20c112['lineWidth'] = 0x2, _0x20c112[_0x7571cf(0x224)](); const { vertices: _0x59f0bd } = _0x571821, _0x14a583 = _0x59f0bd[_0x7571cf(0x285)], _0x31a243 = _0x59f0bd[0x0]; _0x20c112[_0x7571cf(0x235)](_0x31a243['x'], _0x31a243['y']); for (let _0xe940b4 = 0x1; _0xe940b4 < _0x14a583; _0xe940b4++) { const _0x51b418 = _0x59f0bd[_0xe940b4]; _0x20c112['lineTo'](_0x51b418['x'], _0x51b418['y']); } _0x20c112[_0x7571cf(0x272)](), _0x20c112[_0x7571cf(0x28c)](); } else { _0x20c112[_0x7571cf(0x224)](); const { vertices: _0x3128a1 } = _0x571821, _0xb1be31 = _0x3128a1['length'], _0x51041d = _0x3128a1[0x0]; _0x20c112[_0x7571cf(0x235)](_0x51041d['x'], _0x51041d['y']); for (let _0x5ac294 = 0x1; _0x5ac294 < _0xb1be31; _0x5ac294++) { const _0x187a6c = _0x3128a1[_0x5ac294]; _0x20c112[_0x7571cf(0x274)](_0x187a6c['x'], _0x187a6c['y']); } _0x20c112['closePath'](), _0x20c112['fill'](); } }), PERF_END(_0xc477a4(0x21c)), PERF_START('drawPolys'), allPolys['forEach'](_0x1b4364 => { const _0x32fe46 = _0xc477a4; if (!_0x1b4364[_0x32fe46(0x1f6)] && _0x1b4364[_0x32fe46(0x207)]['z'] < 0x0) return; _0x1b4364['strokeWidth'] !== 0x0 && (_0x20c112[_0x32fe46(0x223)] = _0x1b4364['normalCamera']['z'] < 0x0 ? _0x1b4364[_0x32fe46(0x244)] * 0.5 : _0x1b4364['strokeWidth'], _0x20c112[_0x32fe46(0x222)] = _0x1b4364[_0x32fe46(0x207)]['z'] < 0x0 ? _0x1b4364[_0x32fe46(0x21f)] : _0x1b4364[_0x32fe46(0x267)]); const { vertices: _0x51bafc } = _0x1b4364, _0x31b16a = _0x51bafc[_0x51bafc[_0x32fe46(0x285)] - 0x1], _0x4ebcc1 = _0x1b4364[_0x32fe46(0x256)]['z'] > cameraFadeStartZ; if (!_0x1b4364[_0x32fe46(0x1f6)]) { const _0x369993 = _0x1b4364[_0x32fe46(0x23f)]['y'] * 0.5 + _0x1b4364[_0x32fe46(0x23f)]['z'] * -0.5, _0x2509ad = _0x369993 > 0x0 ? 0.1 : (_0x369993 ** 0x20 - _0x369993) / 0x2 * 0.9 + 0.1; _0x20c112[_0x32fe46(0x230)] = shadeColor(_0x1b4364[_0x32fe46(0x22c)], _0x2509ad); } _0x4ebcc1 && (_0x20c112[_0x32fe46(0x24b)] = Math[_0x32fe46(0x1fc)](0x0, 0x1 - (_0x1b4364[_0x32fe46(0x256)]['z'] - cameraFadeStartZ) / cameraFadeRange)); _0x20c112[_0x32fe46(0x224)](), _0x20c112[_0x32fe46(0x235)](_0x31b16a['x'], _0x31b16a['y']); for (let _0x45a2ba of _0x51bafc) { _0x20c112[_0x32fe46(0x274)](_0x45a2ba['x'], _0x45a2ba['y']); } !_0x1b4364[_0x32fe46(0x1f6)] && _0x20c112[_0x32fe46(0x231)](), _0x1b4364[_0x32fe46(0x244)] !== 0x0 && _0x20c112[_0x32fe46(0x28c)](), _0x4ebcc1 && (_0x20c112['globalAlpha'] = 0x1); }), PERF_END('drawPolys'), PERF_START(_0xc477a4(0x208)), _0x20c112[_0xc477a4(0x222)] = sparkColor, _0x20c112[_0xc477a4(0x223)] = sparkThickness, _0x20c112[_0xc477a4(0x224)](), sparks[_0xc477a4(0x25a)](_0x526ebc => { const _0x5513b0 = _0xc477a4; _0x20c112[_0x5513b0(0x235)](_0x526ebc['x'], _0x526ebc['y']); const _0x2901d9 = (_0x526ebc['life'] / _0x526ebc['maxLife']) ** 0.5 * 1.5; _0x20c112[_0x5513b0(0x274)](_0x526ebc['x'] - _0x526ebc['xD'] * _0x2901d9, _0x526ebc['y'] - _0x526ebc['yD'] * _0x2901d9); }), _0x20c112[_0xc477a4(0x28c)](), _0x20c112['strokeStyle'] = touchTrailColor; const _0xc4d8a7 = touchPoints[_0xc477a4(0x285)]; for (let _0x183774 = 0x1; _0x183774 < _0xc4d8a7; _0x183774++) { const _0x223961 = touchPoints[_0x183774], _0x49c79a = touchPoints[_0x183774 - 0x1]; if (_0x223961['touchBreak'] || _0x49c79a[_0xc477a4(0x239)]) continue; const _0x3031b2 = _0x223961[_0xc477a4(0x28f)] / touchPointLife; _0x20c112[_0xc477a4(0x223)] = _0x3031b2 * touchTrailThickness, _0x20c112[_0xc477a4(0x224)](), _0x20c112[_0xc477a4(0x235)](_0x49c79a['x'], _0x49c79a['y']), _0x20c112[_0xc477a4(0x274)](_0x223961['x'], _0x223961['y']), _0x20c112['stroke'](); } PERF_END('draw2D'), PERF_END(_0xc477a4(0x21e)), PERF_END('frame'), PERF_UPDATE(); } function setupCanvases() { const _0x4f697f = _0x456f86, _0x50734e = canvas['getContext']('2d'), _0x4ecb50 = window[_0x4f697f(0x28e)] || 0x1; let _0x58eaf6, _0x50baa4, _0x2ded0d; function _0x4404a5() { const _0x35a031 = _0x4f697f, _0x4e6c6e = window[_0x35a031(0x262)], _0x397aca = window[_0x35a031(0x257)]; _0x58eaf6 = _0x397aca / 0x3e8, _0x50baa4 = _0x4e6c6e / _0x58eaf6, _0x2ded0d = _0x397aca / _0x58eaf6, canvas['width'] = _0x4e6c6e * _0x4ecb50, canvas['height'] = _0x397aca * _0x4ecb50, canvas[_0x35a031(0x20d)][_0x35a031(0x1fa)] = _0x4e6c6e + 'px', canvas[_0x35a031(0x20d)][_0x35a031(0x248)] = _0x397aca + 'px'; } _0x4404a5(), window[_0x4f697f(0x291)](_0x4f697f(0x217), _0x4404a5); let _0x27a25c = 0x0; function _0x2ba500(_0x20f4c9) { const _0x572668 = _0x4f697f; let _0x4278fd = _0x20f4c9 - _0x27a25c; _0x27a25c = _0x20f4c9, _0x30633d(); if (isPaused()) return; if (_0x4278fd < 0x0) _0x4278fd = 0x11; else _0x4278fd > 0x44 && (_0x4278fd = 0x44); const _0x270639 = _0x50baa4 / 0x2, _0x97c1be = _0x2ded0d / 0x2; pointerScene['x'] = pointerScreen['x'] / _0x58eaf6 - _0x270639, pointerScene['y'] = pointerScreen['y'] / _0x58eaf6 - _0x97c1be; const _0x175229 = _0x4278fd / 16.6667, _0x5df32c = gameSpeed * _0x4278fd, _0x15b168 = gameSpeed * _0x175229; tick(_0x50baa4, _0x2ded0d, _0x5df32c, _0x15b168, _0x175229), _0x50734e['clearRect'](0x0, 0x0, canvas['width'], canvas[_0x572668(0x248)]); const _0x1df978 = _0x4ecb50 * _0x58eaf6; _0x50734e[_0x572668(0x233)](_0x1df978, _0x1df978), _0x50734e['translate'](_0x270639, _0x97c1be), draw(_0x50734e, _0x50baa4, _0x2ded0d, _0x58eaf6), _0x50734e[_0x572668(0x20c)](0x1, 0x0, 0x0, 0x1, 0x0, 0x0); } const _0x30633d = () => requestAnimationFrame(_0x2ba500); _0x30633d(); } function handleCanvasPointerDown(_0x2ed119, _0x4e09a2) { if (!pointerIsDown) { pointerIsDown = !![], pointerScreen['x'] = _0x2ed119, pointerScreen['y'] = _0x4e09a2; if (isMenuVisible()) renderMenus(); } } function handleCanvasPointerUp() { const _0xfe661c = _0x456f86; if (pointerIsDown) { pointerIsDown = ![], touchPoints[_0xfe661c(0x250)]({ 'touchBreak': !![], 'life': touchPointLife }); if (isMenuVisible()) renderMenus(); } } function handleCanvasPointerMove(_0x9ce1a1, _0x15035f) { pointerIsDown && (pointerScreen['x'] = _0x9ce1a1, pointerScreen['y'] = _0x15035f); } if (_0x456f86(0x287) in window) canvas['addEventListener']('pointerdown', _0x52745a => { const _0x10de4e = _0x456f86; _0x52745a[_0x10de4e(0x294)] && handleCanvasPointerDown(_0x52745a['clientX'], _0x52745a[_0x10de4e(0x232)]); }), canvas[_0x456f86(0x291)](_0x456f86(0x26c), _0xaba74e => { const _0x2106a3 = _0x456f86; _0xaba74e[_0x2106a3(0x294)] && handleCanvasPointerUp(); }), canvas[_0x456f86(0x291)](_0x456f86(0x28d), _0x352250 => { const _0x119751 = _0x456f86; _0x352250[_0x119751(0x294)] && handleCanvasPointerMove(_0x352250[_0x119751(0x24d)], _0x352250['clientY']); }), document[_0x456f86(0x25e)][_0x456f86(0x291)](_0x456f86(0x275), handleCanvasPointerUp); else { let activeTouchId = null; canvas['addEventListener']('touchstart', _0x45bd2d => { const _0x45f81f = _0x456f86; if (!pointerIsDown) { const _0x466b1d = _0x45bd2d['changedTouches'][0x0]; activeTouchId = _0x466b1d['identifier'], handleCanvasPointerDown(_0x466b1d[_0x45f81f(0x24d)], _0x466b1d[_0x45f81f(0x232)]); } }), canvas['addEventListener'](_0x456f86(0x202), _0x443783 => { const _0x1a98c1 = _0x456f86; for (let _0x10a76e of _0x443783[_0x1a98c1(0x209)]) { if (_0x10a76e['identifier'] === activeTouchId) { handleCanvasPointerUp(); break; } } }), canvas[_0x456f86(0x291)](_0x456f86(0x269), _0x3191f6 => { const _0x11383f = _0x456f86; for (let _0x2a1f21 of _0x3191f6[_0x11383f(0x209)]) { if (_0x2a1f21['identifier'] === activeTouchId) { handleCanvasPointerMove(_0x2a1f21['clientX'], _0x2a1f21[_0x11383f(0x232)]), _0x3191f6[_0x11383f(0x203)](); break; } } }, { 'passive': ![] }); } setupCanvases();
    </script>
    <script>
    window.onclick=e=>xad1.play()
    </script>
</body>

</html>
